(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e51c3"],{"92a5":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"flex grow container-fluid p-0 h-left"},[e("div",{staticClass:"col-lg-2 col-md-2 bg-warning flex p-3"},[e("button",{staticClass:"btn btn-lg",class:[t.polyWatching?"btn-success":"btn-secondary"],on:{click:function(i){t.polyWatching=!t.polyWatching,t.transferPoly()}}},[t._v("\n      Watch\n    ")]),e("con-cursor",{staticClass:"my-1",attrs:{name:["bound top","bound left"],init:[100,100],step:[10,10]},on:{changed:function(i){t.resultBound.top=i[0],t.resultBound.left=i[1]}}}),e("con-cursor",{staticClass:"my-1",attrs:{name:["result height","result width"],init:[2e3,1400],step:[10,10]},on:{changed:function(i){t.resultBound.height=i[0],t.resultBound.width=i[1]}}})],1),t.src_url?e("image-viewer",{staticClass:"col-md-5 p-0 bg-secondary",attrs:{src:t.src_url,pointover:t.pointover,visible3dpaper:!1,page3d:{}},on:{"points-changed":function(i){t.points=i},"source-size":function(i){t.srcheight=i[0],t.srcwidth=i[1]}}}):t._e(),e("image-viewer-lite",{attrs:{images:t.resultImages}})],1)},s=[],o=e("cebc"),a=e("3c7e"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"flex grow"},[t.drag?e("window-event",{on:{mousemove:function(i){t.drag.diffX=i.clientX-t.drag.orgX,t.drag.diffY=i.clientY-t.drag.orgY},mouseup:function(i){t.shown.left+=t.drag.diffX,t.shown.top+=t.drag.diffY,t.drag=null}}}):t._e(),e("div",{staticClass:"flex"},[e("div",{staticClass:"p-1 px-3 bg-dark flex"},[e("div",{staticClass:"mx-auto"},[e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(i){t.rotate-=90}}},[e("icon",{attrs:{icon:"undo-alt"}})],1),e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(i){t.rotate+=90}}},[e("icon",{attrs:{icon:"redo-alt"}})],1)])])]),e("div",{ref:"con",staticClass:"flex grow relative",staticStyle:{overflow:"hidden"},on:{mousewheel:function(i){t.shown.width-=1.5*i.deltaY},mousedown:function(i){t.drag={orgX:i.clientX,orgY:i.clientY,diffX:0,diffY:0}}}},[t.selected?e("div",{staticClass:"absolute in-block shadow",style:{width:t.shown.width+"px",height:t.shown.height+"px",transform:("\n          translate(\n            "+(t.shown.left+(t.drag?t.drag.diffX:0))+"px,\n            "+(t.shown.top+(t.drag?t.drag.diffY:0))+"px\n          )\n          rotate("+t.shown.rotate+"deg)\n        ").replace("\n","")}},[e("img",{ref:"img",staticClass:"frame",attrs:{src:t.rHost+"/static/"+t.selected,draggable:"false"}})]):t._e()]),e("div",{staticClass:"bg-dark",staticStyle:{"overflow-x":"scroll"}},t._l(t.images,function(i,n){return e("img",{key:n,staticStyle:{height:"80px",width:"60px"},attrs:{src:t.rHost+"/static/"+i},on:{click:function(e){t.selected=i}}})}),0)],1)},c=[],l=e("2f62"),h={props:{images:{type:Array,default:function(){return[]}}},data:function(){return{selected:null,origin:{height:0,width:0,ratio:1},shown:{left:0,top:0,width:600,height:600,scale:1,rotate:0},drag:null}},mounted:function(){},computed:Object(o["a"])({},Object(l["d"])(["rHost"])),watch:{images:function(){this.images.length>0&&(this.selected=this.images[0])},selected:function(){var t=this;this.$nextTick(function(){t.origin={width:t.$refs.img.naturalWidth,height:t.$refs.img.naturalHeight,ratio:t.$refs.img.naturalHeight/t.$refs.img.naturalWidth}})},"shown.width":function(){this.shown.height=this.origin.ratio*this.shown.width,this.shown.scale=this.shown.width/this.origin.width},origin:function(){this.shown.height=this.origin.ratio*this.shown.width,this.shown.scale=this.shown.width/this.origin.width}}},u=h,d=e("2877"),g=Object(d["a"])(u,r,c,!1,null,null,null),f=g.exports,w=e("e3ef"),p=e("bc3a"),m=e.n(p),b={data:function(){return{resultBound:{height:0,width:0,left:0,top:0},srcheight:null,srcwidth:null,pointover:-1,points:null,polyWatching:!1,resultImages:[]}},methods:{transferPoly:function(){var t=this;m.a.post("".concat(this.rHost,"/image-banding"),{path:this.points,"image-target":this.selectedSource,bound:this.resultBound}).then(function(i){t.resultImages=i.data})}},computed:Object(o["a"])({},Object(l["d"])(["selectedSource","rHost"]),{src_url:function(){return this.rHost+"/static/source/"+this.selectedSource},resultImagesURLS:function(){var t=this;return this.resultImages.map(function(i){return t.rHost+"/static/"+i})}}),watch:{points:function(){this.polyWatching&&this.transferPoly()}},components:{ImageViewer:a["a"],ConCursor:w["a"],ImageViewerLite:f}},v=b,y=Object(d["a"])(v,n,s,!1,null,null,null);i["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0e51c3.db05f320.js.map