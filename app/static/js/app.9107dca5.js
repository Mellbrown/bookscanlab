(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],s[r]&&p.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},a=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e51c3":"93542206"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=s[t]=[e,i]});e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t),a=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");r.type=i,r.request=a,n[1](r)}s[t]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"065c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex grow"},[t.drag?n("window-event",{on:{mousemove:function(e){t.drag.diffX=e.clientX-t.drag.orgX,t.drag.diffY=e.clientY-t.drag.orgY},mouseup:function(e){t.shown.left+=t.drag.diffX,t.shown.top+=t.drag.diffY,t.drag=null}}}):t._e(),n("div",{staticClass:"flex"},[n("div",{staticClass:"p-1 px-3 bg-dark flex"},[n("div",{staticClass:"mx-auto"},[n("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){t.rotate-=90}}},[n("icon",{attrs:{icon:"undo-alt"}})],1),n("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){t.rotate+=90}}},[n("icon",{attrs:{icon:"redo-alt"}})],1)])])]),n("div",{ref:"con",staticClass:"flex grow relative",staticStyle:{overflow:"hidden"},on:{mousewheel:function(e){t.shown.width-=1.5*e.deltaY},mousedown:function(e){t.drag={orgX:e.clientX,orgY:e.clientY,diffX:0,diffY:0}}}},[t.selected?n("div",{staticClass:"absolute in-block shadow",style:{width:t.shown.width+"px",height:t.shown.height+"px",transform:("\n          translate(\n            "+(t.shown.left+(t.drag?t.drag.diffX:0))+"px,\n            "+(t.shown.top+(t.drag?t.drag.diffY:0))+"px\n          )\n          rotate("+t.shown.rotate+"deg)\n        ").replace("\n","")}},[n("img",{ref:"img",staticClass:"frame",attrs:{src:t.rHost+"/static/"+t.selected,draggable:"false"}})]):t._e()]),n("div",{staticClass:"bg-dark",staticStyle:{"overflow-x":"scroll"}},t._l(t.images,function(e,i){return n("img",{key:i,staticStyle:{height:"80px",width:"60px"},attrs:{src:t.rHost+"/static/"+e},on:{click:function(n){t.selected=e}}})}),0)],1)},s=[],a=n("cebc"),r=n("2f62"),o={props:{images:{type:Array,default:function(){return[]}}},data:function(){return{selected:null,origin:{height:0,width:0,ratio:1},shown:{left:0,top:0,width:600,height:600,scale:1,rotate:0},drag:null}},mounted:function(){},computed:Object(a["a"])({},Object(r["d"])(["rHost"])),watch:{images:function(){this.images.length>0&&(this.selected=this.images[0])},selected:function(){var t=this;this.$nextTick(function(){t.origin={width:t.$refs.img.naturalWidth,height:t.$refs.img.naturalHeight,ratio:t.$refs.img.naturalHeight/t.$refs.img.naturalWidth}})},"shown.width":function(){this.shown.height=this.origin.ratio*this.shown.width,this.shown.scale=this.shown.width/this.origin.width},origin:function(){this.shown.height=this.origin.ratio*this.shown.width,this.shown.scale=this.shown.width/this.origin.width}}},c=o,l=n("2877"),d=Object(l["a"])(c,i,s,!1,null,null,null);e["a"]=d.exports},"22af":function(t,e,n){},3073:function(t,e,n){},"3c7e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex grow"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"p-1 px-3 bg-dark flex"},[n("div",{staticClass:"mx-auto"},[n("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){t.rotate-=90}}},[n("icon",{attrs:{icon:"undo-alt"}})],1),n("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){t.rotate+=90}}},[n("icon",{attrs:{icon:"redo-alt"}})],1),n("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[n("button",{class:t.buttonSelected[0],attrs:{type:"button"},on:{click:function(e){t.selectedButton=0}}},[n("icon",{attrs:{icon:"draw-polygon"}})],1),n("button",{class:t.buttonSelected[1],attrs:{type:"button"},on:{click:function(e){t.selectedButton=1}}},[n("icon",{attrs:{icon:"plus"}})],1),n("button",{class:t.buttonSelected[2],attrs:{type:"button"},on:{click:function(e){t.selectedButton=2}}},[n("icon",{attrs:{icon:"fist-raised"}})],1),n("button",{class:t.buttonSelected[3],attrs:{type:"button"},on:{click:function(e){t.selectedButton=3}}},[n("icon",{attrs:{icon:"minus"}})],1)])])])]),n("div",{ref:"con",staticClass:"flex grow relative",staticStyle:{overflow:"hidden"},on:{mousewheel:t.mousewheel,mousedown:t.mousedown}},[t.src?n("div",{style:t.imgStyle,on:{click:function(e){return e.ctrlKey?t.pick(e):null}}},[n("img",{ref:"img",staticClass:"frame",attrs:{src:t.src,draggable:"false"}}),t.viewBox?n("svg",{staticClass:"frame",attrs:{viewBox:t.viewBox,xmlns:"http://www.w3.org/2000/svg"}},[n("polygon",{attrs:{points:t.txtPoints,stroke:"green",fill:"transparent","stroke-width":"3"}}),t.visible3dpaper?n("polygon",{attrs:{points:t.computedPoints.txt,stroke:"yellow",fill:"transparent","stroke-width":"3"}}):t._e()]):t._e(),t.visible3dpaper?n("div",{staticClass:"frame"},t._l(t.computedPoints.raw,function(e,i){return n("div",{key:i,staticClass:"handle",style:{left:e.x/t.scale+"px",top:e.y/t.scale+"px",border:i===t.pointover?"solid 4px green":""}},[n("div",{staticClass:"midcen border border-danger",staticStyle:{height:"5px",width:"5px","border-width":"5pt"}})])}),0):t._e(),t.visible3dpaper?n("div",{staticClass:"absolute in-block border border-primary",style:{height:"10px",width:"10px",borderWidth:"10pt",left:t.page3d.camerax/t.scale+"px",top:t.page3d.cameray/t.scale+"px"}}):t._e(),n("div",{staticClass:"frame"},t._l(t.points,function(e,i){return n("div",{key:i,staticClass:"handle",style:{left:e.x/t.scale+"px",top:e.y/t.scale+"px",border:i===t.pointover?"solid 4px green":""},on:{click:function(e){return t.handleclick(e,i)},mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.handledrag(e,i)}}},[n("div",{staticClass:"midcen border border-danger",staticStyle:{height:"5px",width:"5px","border-width":"5pt"}})])}),0)]):t._e()])])},s=[],a=n("e814"),r=n.n(a),o=n("cebc");n("c5f6");function c(){for(var t=this.page3d,e=t.depth.length-1,n=t.width/e,i=[[],[]],s=0;e>=s;s++)i[0].push({x:t.x+n*s,y:t.y,z:t.depth[s]}),i[1].push({x:t.x+n*s,y:t.y+t.height,z:t.depth[s]});return i[1].reverse(),i=i[0].concat(i[1]),i=i.map(function(e){return{x:(e.x-t.camerax)/e.z+t.camerax,y:(e.y-t.cameray)/e.z+t.cameray}}),{raw:i,txt:i.map(function(t){return t.x+","+t.y}).join(" ")}}var l={props:{src:{type:String,required:!0},init:{type:Array,default:function(){return[]}},pointover:{type:Number,default:function(){return-1}},page3d:{type:Object,required:!0},visible3dpaper:{type:Boolean,default:function(){return!1}}},data:function(){return{width:100,rotate:0,ratio:1,drag:!1,mouseprex:0,mouseprey:0,mousex:0,mousey:0,left:0,top:0,viewBox:"",points:[],naturalWidth:0,naturalHeight:0,selectedButton:0,leftpadd:0,toppadd:0,handledragging:null}},mounted:function(){var t=this,e=this;this.$nextTick(function(){var n=e.$refs.img.naturalWidth,i=e.$refs.img.naturalHeight;e.toppadd=e.$refs.con.getBoundingClientRect().top,e.leftpadd=e.$refs.con.getBoundingClientRect().left,e.width=n,e.ratio=i/n,e.naturalWidth=n,e.naturalHeight=i,e.$emit("source-size",[i,n]),e.viewBox="0 0 ".concat(n," ").concat(i),window.addEventListener("keypress",t.onwindowkeypress),e.points=e.init,e.width=600})},beforeDestroy:function(){window.removeEventListener("keypress",this.onwindowkeypress)},methods:{mouse2imgScale:function(t,e){return t-=this.left+this.leftpadd,e-=this.top+this.toppadd,{x:t*this.scale,y:e*this.scale}},handledrag:function(t,e){2===this.selectedButton?(this.handledragging=Object(o["a"])({target:e},this.mouse2imgScale(t.clientX,t.clientY)),window.addEventListener("mousemove",this.handlemove),window.addEventListener("mouseup",this.handleup)):1===this.selectedButton&&(this.points.splice(e,0,Object(o["a"])({},this.points[e])),this.points=this.points.filter(function(){return!0}),this.handledragging=Object(o["a"])({target:e},this.mouse2imgScale(t.clientX,t.clientY)),window.addEventListener("mousemove",this.handlemove),window.addEventListener("mouseup",this.handleup))},handlemove:function(t){this.handledragging=Object(o["a"])({},this.handledragging,this.mouse2imgScale(t.clientX,t.clientY))},handleup:function(t){window.removeEventListener("mousemove",this.handlemove),window.removeEventListener("mouseup",this.handleup),this.points[this.handledragging.target]={x:r()(this.handledragging.x),y:r()(this.handledragging.y)},this.handledragging=null,this.points=this.points.filter(function(){return!0})},handleclick:function(t,e){3===this.selectedButton&&(this.points=this.points.filter(function(t,n){if(n!==e)return!0}))},pick:function(t){var e=t.clientX,n=t.clientY;function i(t,i){var s=e,a=n;return Math.pow(t-s,2)+Math.pow(i-a,2)}if(e-=this.left+this.leftpadd,n-=this.top+this.toppadd,e*=this.scale,n*=this.scale,e=r()(e),n=r()(n),0!==this.points.length){for(var s={target:0,dist:i(this.points[0].x,this.points[0].y)},a=1;this.points.length>a;a++){var o=i(this.points[0].x,this.points[0].y);s.dist>o&&(s={target:a,dist:o})}var c=s.target-1<0?this.points.length-1:s.target-1,l=s.target+1<this.points.length?s.target+1:0,d=i(this.points[c].x,this.points[c].y),u=i(this.points[l].x,this.points[l].y);this.points.splice(d<u?s.target:s.target+1,0,{x:e,y:n}),this.points=this.points.filter(function(){return!0})}else this.points=[{x:e,y:n}]},mousewheel:function(t){this.width-=1.5*t.deltaY},onwindowkeypress:function(t){switch(t.keyCode){case 113:this.selectedButton=0;break;case 119:this.selectedButton=1;break;case 101:this.selectedButton=2;break;case 114:this.selectedButton=3;break}},mousedown:function(t){window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup),this.mouseprex=t.clientX,this.mouseprey=t.clientY},mouseup:function(t){window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup),this.mouseprex=0,this.mouseprey=0,this.left+=this.mousex,this.top+=this.mousey,this.mousex=0,this.mousey=0},mousemove:function(t){this.mousex=t.clientX-this.mouseprex,this.mousey=t.clientY-this.mouseprey}},watch:{points:function(){this.$emit("points-changed",this.points)}},computed:{computedPoints:c,scale:function(){return this.naturalWidth/this.width},buttonSelected:function(){return[["btn",0!==this.selectedButton?"btn-secondary":"btn-light"],["btn",1!==this.selectedButton?"btn-secondary":"btn-light"],["btn",2!==this.selectedButton?"btn-secondary":"btn-light"],["btn",3!==this.selectedButton?"btn-secondary":"btn-light"]]},imgStyle:function(){return{position:"absolute",display:"inline-block",height:"".concat(this.height,"px"),width:"".concat(this.width,"px"),filter:"drop-shadow(0px 10px 5px rgba(0,0,0,0.5));",transform:"translate(".concat(this.left+this.mousex,"px, ").concat(this.top+this.mousey,"px) rotate(").concat(this.rotate,"deg)")}},height:function(){return this.width*this.ratio},txtPoints:function(){var t=this.handledragging;return this.points.map(function(e,n){return null!==t&&t.target===n?t.x+","+t.y:e.x+","+e.y}).join(" ")}}},d=l,u=(n("66d2"),n("2877")),p=Object(u["a"])(d,i,s,!1,null,"71b3f081",null);e["a"]=p.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-info"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("\n      북스캐너 LAB\n      "),n("icon",{staticClass:"ml-1",attrs:{icon:"flask"}})],1),n("ul",{staticClass:"navbar-nav mr-auto"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/makefilter"}},[t._v("필터")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/modify-poly"}},[t._v("폴리 수정")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/realtime-bander"}},[t._v("실시간 펴보기")])],1)])],1),n("router-view"),n("div",{staticClass:"bg-dark text-light px-2"},[t._v('\n    selected source : "'+t._s(t.selectedSource)+'"\n  ')])],1)},a=[],r=n("cebc"),o=n("2f62"),c={methods:Object(r["a"])({},Object(o["c"])(["selectSource"])),computed:Object(r["a"])({},Object(o["d"])(["selectedSource"]))},l=c,d=(n("aef3"),n("2877")),u=Object(d["a"])(l,s,a,!1,null,"5a55a93b",null),p=u.exports,h=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex grow container-fluid h-left p-0"},[n("image-viewer-lite",{staticClass:"col-md-8 flex grow bg-secondary p-0 m-0",attrs:{images:t.images}}),n("filteres",{staticClass:"col-md-4 flex grow m-0 p-0",on:{loaded:function(e){t.loaded=e}}})],1)},m=[],v=n("75fc"),g=n("065c"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-warning flex h-100 y-scroll"},[n("window-event",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"r",void 0,e.key,void 0)?null:t.runFilter(e)}}}),n("h3",{staticClass:"m-cell mt-3"},[t._v("필터 설정")]),n("div",{staticClass:"m-cell"},[n("h5",[t._v("src")]),n("div",[t._v("\n      height: "+t._s()+", width: "+t._s()+"\n    ")])]),n("cmd-filter",{attrs:{title:"prev filter"},model:{value:t.prevFilter,callback:function(e){t.prevFilter=e},expression:"prevFilter"}}),t._m(0),n("cmd-filter",{attrs:{title:"after filter"},model:{value:t.afterFilter,callback:function(e){t.afterFilter=e},expression:"afterFilter"}}),n("div",{staticClass:"v-cell"},[n("h5",[t._v("cany")]),n("con-cursor",{attrs:{name:["cany A","cany B"],init:[30,230],step:[10,10]},on:{changed:function(e){t.canyA=e[0],t.canyB=e[1]}}})],1),n("div",{staticClass:"v-cell"},[n("div",{staticClass:"flex h-left between centerline"},[n("h5",[t._v("dilate")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dilateOn,expression:"dilateOn"}],staticClass:"mr-3",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dilateOn)?t._i(t.dilateOn,null)>-1:t.dilateOn},on:{change:function(e){var n=t.dilateOn,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);i.checked?r<0&&(t.dilateOn=n.concat([a])):r>-1&&(t.dilateOn=n.slice(0,r).concat(n.slice(r+1)))}else t.dilateOn=s}}})]),n("con-cursor",{attrs:{name:["kernel","it"],init:[3,1],step:[1,1]},on:{changed:function(e){t.kernel=e[0],t.it=e[1]}}})],1),t._m(1),n("div",{staticClass:"v-cell"},[n("h5",[t._v("poly")]),n("con-cursor",{attrs:{name:["polydp","-"],init:[1,0],step:[1,0]},on:{changed:function(e){t.polydp=e[0]}}})],1),n("div",{staticStyle:{height:"300px",width:"100%"}})],1)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-cell"},[n("h5",[t._v("gray")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-cell"},[n("h5",[t._v("Contours")])])}],y=n("e3ef"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-secondary text-light mt-2 mx-3 rounded px-3 py-2"},[n("div",{staticClass:"flex h-left between"},[n("h5",[t._v(t._s(t.title))]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.add}},[n("icon",{attrs:{icon:"plus"}})],1)]),t._l(t.value,function(e,i){return n("div",{key:i,staticClass:"flex h-left my-1 between"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"f.name"}],staticClass:"form-control w-25",on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"name",n.target.multiple?i:i[0])}}},[n("option",[t._v("box")]),n("option",[t._v("bilateral")]),n("option",[t._v("median")]),n("option",[t._v("blur")]),n("option",[t._v("gaussian")])]),n("mcon",{staticClass:"flex h-left grow",attrs:{value:e.param,name:e.name,init:"box"===e.name?{ksize:11}:"bilateral"===e.name?{d:1,sColor:10,sSpace:10}:"median"===e.name?{ksize:7}:"blur"===e.name?{ksize:7}:"gaussian"===e.name?{ksize:7,sigmaX:0}:{}},on:{input:function(t){e.param=t}}}),n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.lstDel(i)}}},[n("icon",{attrs:{icon:"trash-alt"}})],1)],1)})],2)},C=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex h-left mx-1"},t._l(t.value,function(e,i){return n("div",{key:i,staticClass:"grow bg-dark mx-1 p-1 rounded",attrs:{tabindex:"0"}},[n("small",{staticClass:"px-1"},[t._v(t._s(i))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value[i],expression:"value[key]"}],staticClass:"w-100 h-50 rounded",domProps:{value:t.value[i]},on:{input:function(e){e.target.composing||t.$set(t.value,i,e.target.value)}}})])}),0)},_=[],O={props:["value","init","name"],mounted:function(){this.$emit("input",Object(r["a"])({},this.init))},watch:{name:function(){var t=this;this.$nextTick(function(){t.$emit("input",Object(r["a"])({},t.init))})}}},j=O,S=Object(d["a"])(j,k,_,!1,null,null,null),$=S.exports,E={props:["value","title"],methods:{add:function(){this.$emit("input",this.value.concat({name:null,param:null}))},lstDel:function(t){this.$emit("input",this.value.filter(function(e,n){return t!==n}))}},components:{mcon:$}},P=E,B=Object(d["a"])(P,x,C,!1,null,null,null),L=B.exports,A=n("bc3a"),H=n.n(A),Y={data:function(){return{canyA:0,canyB:0,kernel:0,it:0,dilateOn:!1,polydp:0,prevFilter:[],afterFilter:[]}},methods:{runFilter:function(){var t=this,e={image:this.selectedSource,"filter-param":{"prev-filter":this.prevFilter,"after-filter":this.afterFilter,"cany-0":this.canyA,"cany-1":this.canyB,dilate:{on:this.dilateOn,kernel:this.kernel,it:this.it},polydp:this.polydp}};H.a.post(this.rHost+"/run-filter",e).then(function(e){t.$emit("loaded",e.data[0])})}},computed:Object(r["a"])({},Object(o["d"])(["selectedSource","rHost"])),components:{ConCursor:y["a"],cmdFilter:L}},X=Y,F=(n("eceb"),Object(d["a"])(X,b,w,!1,null,"3adf2adf",null)),z=F.exports,T={data:function(){return{loaded:null}},computed:Object(r["a"])({images:function(){return console.log(this.loaded),["source/"+this.selectedSource].concat(Object(v["a"])(null===this.loaded?[]:this.loaded.images.map(function(t){return"filter/"+t})))}},Object(o["d"])(["selectedSource"])),components:{ImageViewerLite:g["a"],Filteres:z}},D=T,N=Object(d["a"])(D,f,m,!1,null,null,null),W=N.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex grow"},[n("div",{staticClass:"flex bg-secondary p-1 px-3 text-light h-right"},[n("div",{staticClass:"btn btn-primary btn-sm p-0 px-1",on:{click:t.syncListSource}},[n("icon",{attrs:{icon:"sync-alt"}})],1),n("div",{staticClass:"grow",on:{click:t.changeServer}},[n("icon",{attrs:{icon:"server"}}),t._v("\n      "+t._s(""===t.rHost?"http://built-in":t.rHost)+"\n    ")],1)]),n("h3",{staticClass:"m-3 mb-0"},[n("icon",{attrs:{icon:"folder"}}),t._v("\n    / 이미지 소스\n  ")],1),n("div",{staticClass:"border border-dark  mx-3"}),n("div",{staticClass:"flex grow y-scroll",on:{dropover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},drop:t.drop}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},t._l(t.source,function(t){return n("div",{key:t,staticClass:"col-sm-3 p-0 py-3"},[n("image-card",{attrs:{src:t}})],1)}),0)])])])},q=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card m-1 point",on:{click:function(e){return t.selectSource(t.src)}}},[n("img",{staticClass:"card-img-top",attrs:{src:t.src_url}}),n("div",{staticClass:"card-body bg-secondary p-2 text-light"},[n("small",{staticClass:"card-text"},[t._v(t._s(t.src))])])])},R=[],U={props:["src"],methods:Object(r["a"])({},Object(o["c"])(["selectSource"])),computed:Object(r["a"])({src_url:function(){return this.rHost+"/static/source/"+this.src}},Object(o["d"])(["rHost"]))},J=U,V=Object(d["a"])(J,I,R,!1,null,null,null),K=V.exports,G={mounted:function(){window.addEventListener("keypress",this.onwindowkeypress);var t=this;this.$nextTick(function(){t.syncListSource()})},beforeDestroy:function(){window.removeEventListener("keypress",this.onwindowkeypress)},methods:Object(r["a"])({onwindowkeypress:function(t){switch(t.key){case"r":this.syncListSource();break}},changeServer:function(){var t=prompt("api 서버 주소를 입력");this.setServer(t)},drop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;console.log(e)}},Object(o["c"])(["setServer"]),Object(o["b"])(["syncListSource"])),computed:Object(r["a"])({},Object(o["d"])(["rHost","source"])),components:{ImageCard:K}},Q=G,Z=Object(d["a"])(Q,M,q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fliud flex grow h-left"},[n("div",{staticClass:"col-lg-6 col-sm-12 bg-secondary flex grow p-0"},[t.selectedSource?n("image-viewer",{attrs:{src:t.src_url,pointover:t.pointover,visible3dpaper:t.visible3dpaper,page3d:t.page3d},on:{"points-changed":t.pointsChanged,"source-size":function(e){t.srcheight=e[0],t.srcwidth=e[1]}}}):t._e()],1),n("div",{staticClass:"col-md-3 visible-md flex grow  bg-secondary"},[n("h3",{staticClass:"mt-1 bg-primary p-1 px-2 text-light rounded"},[t._v("poly points")]),n("div",{staticClass:"flex grow card m-1 p-1 y-scroll"},t._l(t.childPoints,function(e,i){return n("div",{key:i,staticClass:"m-1 p-1 px-2 bg-secondary rounded flex h-left text-light clpoint",on:{mouseenter:function(e){t.pointover=i},mouseleave:function(e){t.pointover=-1}}},[n("div",{staticClass:"mr-2"},[t._v(t._s(i)+" | ")]),n("div",{staticClass:"grow mr-1"},[t._v("x: "+t._s(e.x))]),n("div",{staticClass:"grow"},[t._v("y: "+t._s(e.y))])])}),0),n("div",{staticClass:"flex grow relative my-3 mx-1"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.jsonPoint,expression:"jsonPoint"}],staticClass:"frame card",domProps:{value:t.jsonPoint},on:{input:function(e){e.target.composing||(t.jsonPoint=e.target.value)}}})])]),n("div",{staticClass:"col-md-3 visible-md bg-secondary"},[n("h3",{staticClass:"mt-1 bg-primary p-1 px-2 text-light rounded"},[t._v("3D Paper")]),n("div",{staticClass:"bg-dark p-1 px-3 mb-1 rounded text-light flex h-left"},[n("div",[t._v("3d pager visibility: ")]),n("div",{staticClass:"grow text-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.visible3dpaper,expression:"visible3dpaper"}],staticClass:"form-check-inpu",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.visible3dpaper)?t._i(t.visible3dpaper,null)>-1:t.visible3dpaper},on:{change:function(e){var n=t.visible3dpaper,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);i.checked?r<0&&(t.visible3dpaper=n.concat([a])):r>-1&&(t.visible3dpaper=n.slice(0,r).concat(n.slice(r+1)))}else t.visible3dpaper=s}}})])]),n("div",{staticClass:"bg-dark rounded text-light p-1 flex",staticStyle:{height:"200px"}},[n("div",{staticClass:"flex h-right mb-1"},[n("button",{staticClass:"btn btn-primary btn-sm ml-1",on:{click:function(e){return t.page3d.depth.push(1)}}},[n("icon",{attrs:{icon:"plus"}})],1),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.page3d.depth.pop()}}},[n("icon",{attrs:{icon:"minus"}})],1),n("div",{staticClass:"relative mr-3"},[n("div",{staticClass:"midcen"},[t._v(t._s(t.page3d.depth.length))])]),n("div",{staticClass:"grow ml-2"},[t._v("curvature")])]),t._m(0)]),n("con-cursor",{staticClass:"my-1",attrs:{name:["page height","pager width"],init:[2160,1490],step:[10,10]},on:{changed:function(e){t.page3d.height=e[0],t.page3d.width=e[1]}}}),n("con-cursor",{staticClass:"my-1",attrs:{name:["page y","pager x"],init:[140,260],step:[10,10]},on:{changed:function(e){t.page3d.y=e[0],t.page3d.x=e[1]}}}),t.srcheight?n("con-cursor",{staticClass:"my-1",attrs:{name:["camera y","camera x"],init:[t.srcheight/2,t.srcwidth/2],step:[10,10]},on:{changed:function(e){t.page3d.cameray=e[0],t.page3d.camerax=e[1]}}}):t._e()],1)])},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grow bg-secondary rounded m-1 relative"},[n("div",{staticClass:"frame"},[n("div",{staticClass:"lcen-to border border-warning w-100",staticStyle:{left:"0px",top:"50%"}}),n("small",{staticClass:"lcen-to",staticStyle:{left:"0px",top:"50%"}},[t._v("1")]),n("small",{staticClass:"lcen-to",staticStyle:{left:"0px",top:"5%"}},[t._v("2")]),n("small",{staticClass:"lcen-to",staticStyle:{left:"0px",top:"95%"}},[t._v("0")])])])}],it=n("f499"),st=n.n(it),at=n("3c7e"),rt={data:function(){return{srcheight:null,srcwidth:null,childPoints:[],pointover:-1,jsonPoint:"",visible3dpaper:!1,page3d:{camerax:300,cameray:500,cameraz:.1,x:100,y:100,height:1e3,width:600,depth:[2,2,2,2,2,2,1.965,1.955,1.95,1.95,1.96,2]}}},computed:Object(r["a"])({},Object(o["d"])(["selectedSource","rHost"]),{src_url:function(){return this.rHost+"/static/source/"+this.selectedSource}}),methods:{pointsChanged:function(t){this.childPoints=t}},watch:{childPoints:function(){this.jsonPoint=st()(this.childPoints)}},components:{ImageViewer:at["a"],ConCursor:y["a"]}},ot=rt,ct=(n("83e4"),Object(d["a"])(ot,et,nt,!1,null,"9839bf30",null)),lt=ct.exports;i["a"].use(h["a"]);var dt=new h["a"]({routes:[{path:"/",component:tt},{path:"/makefilter",component:W},{path:"/modify-poly",component:lt},{path:"/realtime-bander",component:function(){return n.e("chunk-2d0e51c3").then(n.bind(null,"92a5"))}}]});i["a"].use(o["a"]);var ut=new o["a"].Store({state:{rHost:"http://172.17.0.2",source:[],selectedSource:"a.png"},mutations:{setServer:function(t,e){t.rHost=e},setSource:function(t,e){t.source=e},selectSource:function(t,e){t.selectedSource=e}},getters:{},actions:{syncListSource:function(t){var e=t.state,n=t.commit;return H.a.get("".concat(e.rHost,"/list-source")).then(function(t){n("setSource",t.data)})}}}),pt=(n("4989"),n("ab8b"),n("ecee")),ht=n("c074"),ft=n("ad3d"),mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},vt=[],gt={mounted:function(){for(var t in this.$listeners)window.addEventListener(t,this.$listeners[t])},beforeDestroy:function(){for(var t in this.$listeners)window.removeEventListener(t,this.$listeners[t])}},bt=gt,wt=Object(d["a"])(bt,mt,vt,!1,null,null,null),yt=wt.exports;n("bddf");pt["c"].add(ht["a"]),i["a"].component("icon",ft["a"]),i["a"].component("window-event",yt),i["a"].config.productionTip=!1,new i["a"]({router:dt,store:ut,render:function(t){return t(p)}}).$mount("#app")},"66d2":function(t,e,n){"use strict";var i=n("22af"),s=n.n(i);s.a},"6da3":function(t,e,n){},"83e4":function(t,e,n){"use strict";var i=n("eba0"),s=n.n(i);s.a},aef3:function(t,e,n){"use strict";var i=n("6da3"),s=n.n(i);s.a},bddf:function(t,e,n){},e3ef:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded bg-dark flex h-left",attrs:{tabindex:"0"},on:{keydown:t.keydown}},t._l(2,function(e){return n("div",{key:e,staticClass:"flex grow p-2"},[n("small",{staticClass:"text-light"},[t._v(t._s(t.name[e-1])+" :")]),n("input",1===e?{directives:[{name:"model",rawName:"v-model.number",value:t.val1,expression:"val1",modifiers:{number:!0}}],staticClass:"w-100 rounded border mt-1",attrs:{tabindex:"-1"},domProps:{value:t.val1},on:{keydown:t.keydown,input:function(e){e.target.composing||(t.val1=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}:{directives:[{name:"model",rawName:"v-model.number",value:t.val2,expression:"val2",modifiers:{number:!0}}],staticClass:"w-100 rounded border mt-1",attrs:{tabindex:"-1"},domProps:{value:t.val2},on:{keydown:t.keydown,input:function(e){e.target.composing||(t.val2=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])}),0)},s=[],a={props:["name","init","step"],data:function(){return{val1:0,val2:0}},mounted:function(){this.val1=this.init[0],this.val2=this.init[1]},watch:{val1:function(){this.$emit("changed",[this.val1,this.val2])},val2:function(){this.$emit("changed",[this.val1,this.val2])}},methods:{keydown:function(t){switch(t.key){case"ArrowUp":this.val1+=this.step[0];break;case"ArrowDown":this.val1-=this.step[0];break;case"ArrowLeft":this.val2-=this.step[1];break;case"ArrowRight":this.val2+=this.step[1];break}}}},r=a,o=n("2877"),c=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=c.exports},eba0:function(t,e,n){},eceb:function(t,e,n){"use strict";var i=n("3073"),s=n.n(i);s.a}});
//# sourceMappingURL=app.9107dca5.js.map